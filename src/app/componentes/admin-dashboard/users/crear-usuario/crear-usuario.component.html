<form [formGroup]="myForm">
  <h1 mat-dialog-title>Agregar usuario</h1>
  <div mat-dialog-content class="mat-dialog-content">
    <mat-form-field class="mat-form-field">
      <mat-label>Nombre</mat-label>
      <input
        type="text"
        minlength="3"
        maxlength="50"
        placeholder="Eduardo Perez"
        formControlName="name"
        matInput
        required
        pattern="[a-zA-ZáéíóúÁÉÍÓÚñÑ ]*"
      />
      <mat-error *ngIf="myForm.get('name')?.hasError('required')"
        >El nombre es obligatorio</mat-error
      >
      <mat-error *ngIf="myForm.get('name')?.hasError('minlength')"
        >El nombre debe tener al menos 3 caracteres</mat-error
      >
      <mat-error *ngIf="myForm.get('name')?.hasError('maxlength')"
        >El nombre no puede tener más de 50 caracteres</mat-error
      >
      <mat-error *ngIf="myForm.get('name')?.hasError('pattern')"
        >El nombre solo debe tener caracteres</mat-error
      >
    </mat-form-field>
    <mat-form-field class="mat-form-field">
      <mat-label>Contraseña</mat-label>
      <input
        type="password"
        minlength="8"
        maxlength="20"
        formControlName="password"
        matInput
        required
      />
      <mat-error
        *ngIf="
          myForm.get('password')?.hasError('minlength') ||
          myForm.get('password')?.hasError('maxlength')
        "
        >La contraseña debe ser entre 8 y 20 caracteres</mat-error
      >
      <mat-error *ngIf="myForm.get('password')?.hasError('required')"
        >La contrasena no puede estar vacía</mat-error
      >
    </mat-form-field>
    <mat-form-field class="mat-form-field">
      <mat-label>Role</mat-label>
      <mat-select formControlName="role" required>
        <mat-option value="user">Alumno</mat-option>
        <mat-option value="admin">Admin</mat-option>
      </mat-select>
      <mat-error *ngIf="myForm.get('role')?.hasError('required')"
        >El role no debe estar vacío</mat-error
      >
    </mat-form-field>
  </div>
  <div mat-dialog-actions class="mat-dialog-actions">
    <button mat-raised-button color="warn" (click)="close()">Cerrar</button>
    <button
      mat-raised-button
      color="primary"
      (click)="saveUser()"
      [disabled]="myForm.invalid"
    >
      Guardar
    </button>
  </div>
</form>
